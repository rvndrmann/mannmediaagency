# Test Cases: Multi-Agent Chat & Canvas Integration

This document outlines test cases to verify the integration between the Multi-Agent Chat interface and the Canvas UI, ensuring actions performed via chat are correctly reflected in the Canvas.

**Assumptions:**
*   The user is logged in.
*   A specific project is selected and active in both the Chat and Canvas interfaces.
*   Supabase Realtime is configured and working for the `canvas_scenes` and `canvas_projects` tables (or the user manually refreshes the Canvas page after chat actions).
*   The necessary OpenAI Assistants and backend tools (`get_project_details`, `update_project_title`, `save_scene_description`, `trigger_product_shoot`, etc.) are configured and functional.

| Test Case ID | Action/Prompt (in Chat)                                    | Expected Result (in Chat)                                                                 | Expected Result (in Canvas)                                                                 | Verification Steps (in Canvas)                                                                                                |
| :----------- | :--------------------------------------------------------- | :---------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------------- |
| TC-INT-001   | "What are the details for the current project?"            | Assistant responds with the project's title, description, and a list of scene IDs/titles. | No visual change expected in Canvas UI itself (information retrieval only).                 | N/A                                                                                                                           |
| TC-INT-002   | "Change the project title to 'My Awesome Video Project'."  | Assistant confirms the title update, possibly mentioning the tool call.                   | The project title displayed at the top of the Canvas UI updates to the new title.           | Observe the header/title area in the Canvas UI. Refresh if Realtime isn't immediate.                                          |
| TC-INT-003   | "Generate a product shot image with the prompt 'a red shoe on a white background'." | Assistant confirms image generation started, then confirms completion and saving as a new scene, providing the new scene ID and image URL. | A new scene appears in the scene list (sidebar). The new scene has a title derived from the prompt and contains the generated image. | 1. Check the scene list in the Canvas sidebar for a new entry. 2. Select the new scene. 3. Verify the image is displayed in the workspace/detail panel. |
| TC-INT-004   | (Assuming a scene exists, e.g., scene ID 'scene-abc') "Write a description for scene 'scene-abc' about a sunny day." | Assistant confirms the description was generated and saved for the specified scene.         | The description field for the selected scene ('scene-abc') updates with the generated text. | 1. Select scene 'scene-abc' in the Canvas sidebar. 2. Check the 'Description' field in the Detail Panel. Verify the new text is present. |
| TC-INT-005   | (Assuming a scene exists, e.g., scene ID 'scene-xyz') "Update the script for scene 'scene-xyz' to 'Narrator: It was a dark and stormy night...'" | Assistant confirms the script was updated for the specified scene.                          | The script content for the selected scene ('scene-xyz') updates with the new text.          | 1. Select scene 'scene-xyz' in the Canvas sidebar. 2. Check the 'Script' field in the Detail Panel or Workspace. Verify the new text. |
| TC-INT-006   | "Create a new scene titled 'Introduction'."                | Assistant confirms a new scene titled 'Introduction' was created.                         | A new scene titled 'Introduction' appears in the scene list (sidebar).                      | 1. Check the scene list in the Canvas sidebar for the new entry. 2. Select it and verify the title.                               |